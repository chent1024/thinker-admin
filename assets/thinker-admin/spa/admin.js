/** thinker-admin-v1.0.0 MIT License By http://www.thinkphp-admin.com/ */
 ;layui.define(["element"],function(e){var a=layui.jquery,i=layui.thinkeradmin,n=layui.laytpl,l=layui.element,t=layui.device(),r=a(window),o=a("body"),s=a(i.container.id),u="layui-icon-shrink-right",d="layui-icon-spread-left",c="thinkeradmin-side-spread-sm",y="thinkeradmin-side-shrink",m={on:function(e,a){return layui.onevent.call(this,i.eventName,e,a)},screen:function(){var e=r.width();return e>1200?3:e>992?2:e>768?1:0},sideFlexible:function(e){var n=a(document).find(i.container.menuIcon),l=m.screen();e?(n.removeClass(d).addClass(u),l<2?s.addClass(c):s.removeClass(c),s.removeClass(y)):(n.removeClass(u).addClass(d),l<2?s.removeClass(y):s.addClass(y),s.removeClass(c)),layui.event.call(this,i.eventName,"menu({*})",{status:e})},resizeTableOnWindowChange:function(e){var n=function(){a(i.container.body).find(".layui-table-view").each(function(){var e=a(this).attr("lay-id");layui.table.resize(e)})};layui.table&&(e?setTimeout(n,e):n())},theme:function(e){var i=layui.session.get("theme")||{},l="thinkerAdmin_theme",t=document.createElement("style");e=a.extend({},i,e);var r=n([".layui-side-menu,",".thinkeradmin-side-shrink .layui-side-menu .layui-nav>.layui-nav-item>.layui-nav-child","{background-color:{{d.color.main}} !important;}",".thinkeradmin-pagetabs .layui-tab-title li:after,",".thinkeradmin-pagetabs .layui-tab-title li.layui-this:after,",".layui-layer-admin .layui-layer-title","{background-color:{{d.color.logo}} !important;}",".layui-nav-tree .layui-this,",".layui-nav-tree .layui-this>a,",".layui-nav-tree .layui-nav-child dd.layui-this,",".layui-nav-tree .layui-nav-child dd.layui-this a","{background-color:{{d.color.selected}} !important;}",".layui-layout-admin .layui-logo","{background-color:{{d.color.logo || d.color.main}} !important;}","{{# if(d.color.header){ }}",".layui-layout-admin .layui-header","{background-color:{{ d.color.header }};}",".layui-layout-admin .layui-header a,",".layui-layout-admin .layui-header a cite","{color: #f8f8f8;}",".layui-layout-admin .layui-header a:hover","{color: #fff;}",".layui-layout-admin .layui-header .layui-nav .layui-nav-more","{border-top-color: #fbfbfb;}",".layui-layout-admin .layui-header .layui-nav .layui-nav-mored","{border-color: transparent; border-bottom-color: #fbfbfb;}",".layui-layout-admin .layui-header .layui-nav .layui-this:after, .layui-layout-admin .layui-header .layui-nav-bar","{background-color: #fff; background-color: rgba(255,255,255,.5);}",".thinkeradmin-pagetabs .layui-tab-title li:after","{display: none;}","{{# } }}","{{# if(layui.tools.rgbIsLight(layui.tools.hexToRgb(d.color.main))){ }}",".layui-nav-itemed>a, .layui-nav-tree .layui-nav-title a, .layui-nav-tree .layui-nav-title a:hover","{color: #000000 !important}",".layui-side-scroll .layui-nav .layui-nav-item a","{color: rgba(0,0,0,0.7)}",".layui-nav .layui-nav-mored, .layui-nav-itemed>a .layui-nav-more","{border-color: transparent transparent rgba(0,0,0,0.7)}",".layui-nav .layui-nav-more","{border-color: rgba(0,0,0,0.7) transparent transparent;border-top-color: rgba(0,0,0,0.7)}",".layui-nav-itemed>.layui-nav-child","{background-color: transparent !important;}",".thinkeradmin-side-shrink .layui-side-menu .layui-nav>.layui-nav-itemed>a","{background: rgba(200,200,200,.3);}",".layui-side-scroll .layui-nav .layui-this a","{color: rgba(255,255,255,0.7)}","{{# } }}"].join("")).render(e),s=document.getElementById(l);"styleSheet"in t?(t.setAttribute("type","text/css"),t.styleSheet.cssText=r):t.innerHTML=r,t.id=l,s&&o[0].removeChild(s),o[0].appendChild(t),o.attr("thinkeradmin-themealias",e.color.alias),layui.session.set("theme",e)},initTheme:function(e){var a=i.theme;e=e||0,a.color[e]?(a.color[e].index=e,m.theme({color:a.color[e]})):i.debug&&console.error("theme index: "+e+" is not found on thinkerAdmin.theme")},resizeFn:{},resize:function(e){var a=layui.router(),i=a.path.join("-");m.resizeFn[i]&&(r.off("resize",m.resizeFn[i]),delete m.resizeFn[i]),"off"!==e&&(e(),m.resizeFn[i]=e,r.on("resize",m.resizeFn[i]))},runResize:function(){var e=layui.router(),a=e.path.join("-");m.resizeFn[a]&&m.resizeFn[a]()},delResize:function(){this.resize("off")},fullScreen:function(){var e=document.documentElement,a=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen;"undefined"!=typeof a&&a&&a.call(e)},exitFullScreen:function(){document.documentElement;document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}},h=m.events={flexible:function(e){var a=e.find(i.container.menuIcon),n=a.hasClass(u);m.sideFlexible(!n),m.resizeTableOnWindowChange(350)},refresh:function(){layui.index.render()},theme:function(){layui.view.dialogRight({id:"thinkerAdmin_Theme",success:function(){layui.view.init("#"+this.id).render(i.view.theme)}})},note:function(e){var a=m.screen()<2,i=layui.session.get("note");h.note.index=layui.view.dialog({title:"便签",shade:0,offset:["41px",a?null:e.offset().left-250+"px"],anim:-1,id:"thinkerAdmin_Note",skin:"thinkeradmin-note layui-anim layui-anim-upbit",content:'<textarea placeholder="内容"></textarea>',resize:!1,success:function(e,a){var n=e.find("textarea"),l=void 0===i?"备忘记录":i;n.val(l).focus().on("keyup",function(){layui.session.set("note",this.value)})}})},fullscreen:function(e){var a="layui-icon-screen-full",i="layui-icon-screen-restore",n=e.children("i");n.hasClass(a)?(m.fullScreen(),n.addClass(i).removeClass(a)):(m.exitFullScreen(),n.addClass(a).removeClass(i))},back:function(){history.back()},setTheme:function(e){var a=e.data("index");e.hasClass("layui-this")||(e.addClass("layui-this").siblings(".layui-this").removeClass("layui-this"),m.initTheme(a))},shade:function(){m.sideFlexible()},logout:function(){i.events.logout?i.events.logout():layui.session.logout()}};!function(){var e=layui.session.get("theme");e?m.theme(e):i.theme&&m.initTheme(i.theme.initColorIndex),o.addClass("layui-layout-body"),s.addClass("thinkeradmin-tabspage-none"),t.ie&&t.ie<10&&layui.view.error("IE"+t.ie+"下访问可能不佳，推荐使用：Chrome / Firefox / Edge 等高级浏览器",{offset:"auto",id:"LAY_errorIE"})}(),m.on("hash(side)",function(e){var n=e.path,l=a(i.container.menu),t="layui-nav-itemed",r=function(e){return{list:e.children(".layui-nav-child"),name:e.data("name"),jump:e.data("jump")}},o=function(e){var i=layui.tools.makeSpaUrl(n.join("/"));e.each(function(e,l){var o=a(l),s=r(o),u=s.list.children("dd"),d=n[0]===s.name||0===e&&!n[0]||s.jump&&i===layui.tools.makeSpaUrl(s.jump);if(u.each(function(e,l){var o=a(l),u=r(o),d=u.list.children("dd"),c=n[0]===s.name&&n[1]===u.name||u.jump&&i===layui.tools.makeSpaUrl(u.jump);if(d.each(function(e,l){var o=a(l),d=r(o),c=n[0]===s.name&&n[1]===u.name&&n[2]===d.name||d.jump&&i===layui.tools.makeSpaUrl(d.jump);if(c){var y=d.list[0]?t:"layui-this";return o.addClass(y).siblings().removeClass(y),!1}}),c){var y=u.list[0]?t:"layui-this";return o.addClass(y).siblings().removeClass(y),!1}}),d){var c=s.list[0]?t:"layui-this";return o.addClass(c).siblings().removeClass(c),!1}})};l.find(".layui-this").removeClass("layui-this"),m.screen()<2&&m.sideFlexible(),o(l.children("li"))}),l.on("nav(thinkeradmin-side-menu)",function(e){e.siblings(".layui-nav-child")[0]&&s.hasClass(y)&&(m.sideFlexible(1),layer.close(e.data("index")))}),o.on("click","*[thinker-href]",function(){var e=a(this),i=e.attr("thinker-href");layui.router();location.hash=layui.tools.makeSpaUrl(i)}),o.on("click","*[thinkeradmin-event]",function(){var e=a(this),i=e.attr("thinkeradmin-event");h[i]&&h[i].call(this,e)}),o.on("mouseenter","*[lay-tips]",function(){var e=a(this);if(!e.parent().hasClass("layui-nav-item")||s.hasClass(y)){var i=e.attr("lay-tips"),n=e.attr("lay-offset"),l=e.attr("lay-direction"),t=layer.tips(i,this,{tips:l||1,time:-1,success:function(e,a){n&&e.css("margin-left",n+"px")}});e.data("index",t)}}).on("mouseleave","*[lay-tips]",function(){layer.close(a(this).data("index"))});var v=layui.data.resizeSystem=function(){layer.closeAll("tips"),v.lock||setTimeout(function(){m.sideFlexible(!(m.screen()<2)),delete v.lock},100),v.lock=!0};r.on("resize",layui.data.resizeSystem),e("admin",m)});