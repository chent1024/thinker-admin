/** thinker-admin-v1.0.0 MIT License By http://www.thinkphp-admin.com/ */
 ;layui.define(["admin"],function(e){var n=layui.jquery,i=layui.thinkeradmin,a=layui.element,t=layui.admin,o=t.tabsPage,l=layui.view,r=(n(window),"bootstrap"),d="thinkeradmin-layout-tabs",u=function(e,l){if(e){var r,u=n(i.container.tabheader+">li"),s=e.replace(/(^http(s*):)|(\?[\s\S]*$)/g,"");u.each(function(i){var a=n(this),t=a.attr("lay-id");t===e&&(r=!0,o.index=i)}),l=l||"新标签页",r||(i.tokenName&&layui.session.get(i.tokenName)&&(e=e+(e.indexOf("?")===-1?"?":"&")+i.tokenName+"="+layui.session.get(i.tokenName)),n(i.container.body).append(['<div class="thinkeradmin-tabsbody-item layui-show">','<iframe src="'+e+'" frameborder="0" class="thinkeradmin-iframe"></iframe>',"</div>"].join("")),o.index=u.length,a.tabAdd(d,{title:"<span>"+l+"</span>",id:e,attr:s})),a.tabChange(d,e),t.tabsBodyChange(o.index,{url:e,text:l})}},s=function(){var e=layui.router(),n=l.init(i.container.id),a=layui.tools.makeSpaUrl(e.path.join("/"));if(a===i.login)n.render(i.view.login).done(function(){i.debug&&console.log("entry login page: "+a)});else{if(i.tokenNeed){var o=layui.data(i.tableName);if(!o[i.tokenName])return n.render(i.view.login).done(function(){i.debug&&console.log("entry login page: "+a)}),null}"home"===r?u():n.render("main").done(function(){u(),layui.element.render(),t.screen()<2&&t.sideFlexible(),r="home"})}};layui.http.post(i.config.dyconfig,{},function(e){layui.thinkeradmin.menu.list=e.data.menu,s()}),layui.each(i.extend||[],function(e,n){var i={};i[n]="{/}"+layui.cache.base+"../lib/extend/"+n,layui.extend(i)}),layui.use("common"),e("index",{render:u})});