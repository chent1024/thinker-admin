/** thinker-admin-v1.0.0 MIT License By http://www.thinkphp-admin.com/ */
 ;layui.define(["form"],function(e){function a(e){var a="function(value, date, endDate){"+e+"}";return new Function("return "+a)()}function n(e){var a="function(name, value, selected, disabled){return "+e+"}";return new Function("return "+a)()}function t(e,a,n,t){return'<dd class="item_img" id="thinkeradmin_upload_'+n+'"><div class="operate"><i class="thinkeradmin-upload-close layui-icon layui-icon-delete"></i></div><img src="'+a+'" class="img" '+(t?'href="'+a+'" data-fancybox=""':"")+'><input type="hidden" name="'+e+'" value="'+a+'" /></dd>'}var i=layui.jquery;if(console.log("common init"),"undefined"!=typeof layui.laydate&&i("input[lay-date]").each(function(e,n){var t=i.extend({elem:n},i(n).data());t.ready&&(t.ready=a(t.ready)),t.change&&(t.change=a(t.change)),t.done&&(t.done=a(t.done)),n.laydateIndex=layui.laydate.render(t)}),"undefined"!=typeof layui.formSelects){var d=layui.formSelects;i("select[xm-select]").each(function(e,a){var t=i.extend({},i(a).data());t.template&&(t.template=n(t.template)),a.formSelects=d.render(i(a).attr("xm-select"),t)})}if("undefined"!=typeof layui.upload){var o=layui.upload;i("button[lay-upload]").each(function(e,a){var n=i(a);a.currentIndex=1;var d=n.data("ismulti")||!1,r=n.data("isshow")||!1,l=null;n.nextAll().each(function(e,a){i(a).hasClass("thinkeradmin-upload-list")&&(l=i(a))});var u=i.extend({elem:a,before:function(e){layer.msg("图片上传中...",{icon:16,shade:.01,time:0})},done:function(e){layer.close(layer.msg());for(var i in e.data)l[d?"append":"html"](t(n.data("name")+(d?"[]":""),e.data[i],a.currentIndex,r)),a.currentIndex++}},n.data());a.upload=o.render(u)}),i(document).off("click",".thinkeradmin-upload-close").on("click",".thinkeradmin-upload-close",function(){i(this).parent().parent().remove()})}"undefined"!=typeof layui.wangEditor&&i("div[lay-wangeditor]").each(function(e,a){var n=new layui.wangEditor(a),t=i(a).prev();n.customConfig.onchange=function(e){t.val(e)};var d=i(a).data();for(var o in d)n.customConfig[o]=d[o];n.create()}),layui.form.render(),e("common",{})});